@using EntityLayer.Concrete
@model List<Ledger>
@{
	ViewData["Title"] = "Index";
	Layout = "~/Views/Shared/UserLayout.cshtml";
}


<div class="wrapper">

	<div class="content-wrapper">
		<section class="content-header">
			<div class="container-fluid">
				<div class="d-flex justify-content-end mb-3">
					<a href="/Ledger/AddLedger/" class="btn btn-success">Yeni Defter Ekle</a>
				</div>
				<div class="row">

					@foreach (var item in Model)
					{
						<div class="col-lg-6 ">
							<div class="small-box bg-warning">
								<div class="inner">
									<h3>@item.Name</h3>

									<p>
										<span class="info-box-icon">
											<i class="fas fa-pen"></i>


										</span>
										Oluşturan : @ViewBag.ownerName
									</p>
									<p>
										<span class="info-box-icon"><i class="far fa-calendar-alt"></i></span>
										Oluşturulma Tarihi: @item.CreatedAt.ToLongDateString()
									</p>
								</div>
								<div class="icon">
									<i class="fa fa-book"></i>

								</div>
								<div class="row no-gutters">
									<div class="col-6 text-center">
										<a href="/Ledger/EditLedger/@item.Id" class="btn btn-sm btn-dark w-100">
											<i class="fa fa-edit"></i> Düzenle
										</a>
									</div>
									<div class="col-6 text-center">
										<button href="/Ledger/DeleteLedger/@item.Id" data-toggle="modal" data-target="#Sil_@item.Id"  class="btn btn-sm btn-danger w-100">
											<i class="fa fa-trash"></i> Sil
										</button>
									</div>
								</div>
								
							</div>

						</div>
						<div class="modal fade" id="Sil_@item.Id" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLongTitle">Defter Sil</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										<h4>Defteri silmek istiyor musunuz?</h4>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-info mx-4" data-dismiss="modal">Vazgeç</button>
										@Html.ActionLink("Sil", "DeleteLedger", new { id = @item.Id }, new { @class = "btn btn-danger mx-4" })
									</div>
								</div>
							</div>
						</div>
					}

				</div>
			</div>
		</section>

	</div>
</div>
